import{f as n,a as l,s as _,t as oa}from"../chunks/CByCw1PR.js";import{i as ra}from"../chunks/DQn_j9mP.js";import{p as ia,o as la,a as va,s as m,c as s,g as e,m as N,r as a,b as h,t as P,d as da}from"../chunks/B8AwEteH.js";import{i as g}from"../chunks/BxcQ58J5.js";import{e as ca,i as _a}from"../chunks/CJ-sz3_q.js";import{q as ma,n as na,s as K}from"../chunks/CcgC1GVn.js";import{c as pa,s as ba}from"../chunks/BiSFzz5Z.js";import{p as fa}from"../chunks/DJ7I8zaK.js";import{b as ja}from"../chunks/Up8h8WUR.js";import{p as ua}from"../chunks/DMk5aY7N.js";import{f as ha,g as ga}from"../chunks/CTCcVgAX.js";import{n as ya}from"../chunks/BjUY3Dog.js";var xa=n('<p class="loading">Loading your jobs...</p>'),ka=n('<p class="error"> </p>'),Ta=n("<p>No jobs found.</p>"),qa=n('<li><a class="jobs-item" title=""><div class="jobs-item__cell jobs-item__cell--img"><img class="jobs-item__img" alt=""/></div> <div class="jobs-item__cell jobs-item__cell--body"><h2 class="jobs-item__title"> </h2> <h3 class="jobs-item__company"><!> </h3></div> <div class="jobs-item__cell jobs-item__cell--meta"><div class="jobs-item__type"><div> </div></div> <div class="jobs-item__date"> </div></div></a></li>'),Aa=n('<ul class="jobs"></ul>'),wa=n('<main class="main"><div class="wrapper"><div class="job"><div class="job__cell job__cell--main"><header><h1 class="post__title">Minhas vagas</h1></header> <br/> <div><!></div></div></div></div></main>');function Fa(O,S){ia(S,!1),fa(S,"data",8);let U;ya.subscribe(t=>{U=t});let u=N([]),y=N(!0),x=N("");const Q=async()=>{const t={kinds:[30600],limit:10,authors:[U.pubkey]};try{const r=await ma(t);if(r.length>0){h(y,!1);for(const v of r){const d=ua(v);d.job.publishedAt=ha(d.job.publishedAt),d.naddr=na.naddrEncode({kind:v.kind,pubkey:v.pubkey,identifier:v.tags.find(i=>i[0]==="d")[1]}),h(u,[...e(u),d])}}else h(y,!1)}catch(r){h(x,"Error fetching jobs: "+r.message)}};la(()=>{Q()}),ra();var k=wa(),z=s(k),B=s(z),C=s(B),D=m(s(C),4),R=s(D);{var V=t=>{var r=xa();l(t,r)},W=(t,r)=>{{var v=i=>{var p=ka(),T=s(p,!0);a(p),P(()=>_(T,e(x))),l(i,p)},d=(i,p)=>{{var T=c=>{var b=Ta();l(c,b)},X=c=>{var b=Aa();ca(b,5,()=>e(u),_a,(Y,o)=>{var q=qa(),A=s(q),w=s(A),Z=s(w);a(w);var E=m(w,2),J=s(E),$=s(J,!0);a(J);var F=m(J,2),G=s(F);{var aa=f=>{var j=oa();P(()=>_(j,`${e(o).company.name??""} -`)),l(f,j)};g(G,f=>{var j;(j=e(o))!=null&&j.company.name&&f(aa)})}var sa=m(G);a(F),a(E);var H=m(E,2),M=s(H),L=s(M),ea=s(L,!0);a(L),a(M);var I=m(M,2),ta=s(I,!0);a(I),a(H),a(A),a(q),P(f=>{K(A,"href",`${ja}/jobs/${e(o).naddr}`),K(Z,"src",e(o).company.image?e(o).company.image:"/nosjobs100x100.svg"),_($,e(o).job.title),_(sa,` ${e(o).job.location??""}`),ba(L,1,`badge badge--${e(o).job.contractType}`),_(ea,f),_(ta,e(o).job.publishedAt)},[()=>ga(e(o).job.contractType,pa)],da),l(Y,q)}),a(b),l(c,b)};g(i,c=>{e(u).length===0?c(T):c(X,!1)},p)}};g(t,i=>{e(x)?i(v):i(d,!1)},r)}};g(R,t=>{e(y)?t(V):t(W,!1)})}a(D),a(C),a(B),a(z),a(k),l(O,k),va()}export{Fa as component};
