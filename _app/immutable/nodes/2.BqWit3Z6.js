import{f as b,a as p,s as d,e as ga,t as ja}from"../chunks/ClwMVX8E.js";import{i as ha}from"../chunks/CevVL2vv.js";import{p as xa,m as q,o as ya,t as k,a as ka,s as n,c as s,r as e,g as a,n as Ta,b as c,d as $}from"../chunks/BmXvJSi1.js";import{i as w}from"../chunks/C9MtFip9.js";import{e as aa,i as ea}from"../chunks/eIyYRw2k.js";import{s as T,q as qa,n as wa,r as Aa,a as sa}from"../chunks/BU44CaR8.js";import{t as S,b as Ca}from"../chunks/C5BtGGd_.js";import{p as Ea}from"../chunks/BbHmnS1D.js";import{b as ta}from"../chunks/DYVHpQtp.js";import{p as Ja}from"../chunks/DMk5aY7N.js";import{c as U}from"../chunks/rnAqnj6y.js";import{f as Pa,g as Ba}from"../chunks/CTCcVgAX.js";var Ga=b('<li><input type="checkbox" class="post-type-job__input" required/> <label> </label></li>'),Ha=b('<p class="loading">Loading your jobs...</p>'),La=b('<p class="error"> </p>'),Ma=b("<p>No jobs found.</p>"),Na=b('<li><a class="jobs-item" title=""><div class="jobs-item__cell jobs-item__cell--img"><img class="jobs-item__img" alt=""/></div> <div class="jobs-item__cell jobs-item__cell--body"><h2 class="jobs-item__title"> </h2> <h3 class="jobs-item__company"><!> </h3></div> <div class="jobs-item__cell jobs-item__cell--meta"><div class="jobs-item__type"><div> </div></div> <div class="jobs-item__date"> </div></div></a></li>'),Oa=b('<ul class="jobs"></ul>'),Sa=b('<main class="main"><div class="explore"><div class="wrapper"><header class="explore__head"><h1 class="explore-title">Conectando talentos e oportunidades<br/> <span class="explore-title__normal">no universo Bitcoin</span></h1></header> <div class="explore__body"><div class="explore__cell explore__cell--main"><div class="typejob"><ul class="typejob__list"></ul></div> <!></div> <aside class="explore__cell explore__cell--aside"><div class="explore-post"><a class="explore-post__btn btn btn--primary btn--large" title="">Postar Vaga</a> <p class="explore-post__info">Anuncie Gr√°tis</p></div></aside></div></div></div></main>');function Za(oa,V){xa(V,!1);const ra=[];Ea(V,"data",8);let f=q([]),A=q(U.map(r=>S(r.value))),g=q(!0),C=q("");const z=async()=>{const r={kinds:[30600],"#t":a(A)};try{await new Promise(v=>setTimeout(v,1e3));const o=await qa(r);if(o.length>0){c(g,!1);for(const v of o){const t=Ja(v);t.job.publishedAt=Pa(t.job.publishedAt),t.naddr=wa.naddrEncode({kind:t.kind,pubkey:t.pubkey,identifier:t.slug}),c(f,[...a(f),{...t}])}}else c(g,!1)}catch(o){c(C,"Error fetching jobs: "+o.message)}};function ia(){c(g,!0),c(f,[]),z()}ya(()=>{z()}),ha();var E=Sa(),D=s(E),F=s(D),I=n(s(F),2),J=s(I),P=s(J),K=s(P);aa(K,5,()=>U,ea,(r,o)=>{var v=Ga(),t=s(v);Aa(t);var _,i=n(t,2),j=s(i,!0);e(i),e(v),k(m=>{T(t,"id",a(o).value),_!==(_=m)&&(t.value=(t.__value=m)??""),t.disabled=a(g),T(i,"for",a(o).value),sa(i,1,`post-type-job__label badge badge--${a(o).value}`),d(j,a(o).title)},[()=>S(a(o).value)],$),Ca(ra,[],t,()=>(S(a(o).value),a(A)),m=>c(A,m)),ga("change",t,ia),p(r,v)}),e(K),e(P);var la=n(P,2);{var va=r=>{var o=Ha();p(r,o)},_a=(r,o)=>{{var v=_=>{var i=La(),j=s(i,!0);e(i),k(()=>d(j,a(C))),p(_,i)},t=(_,i)=>{{var j=u=>{var h=Ma();p(u,h)},m=u=>{var h=Oa();aa(h,5,()=>a(f),ea,(pa,l)=>{var B=Na(),G=s(B),H=s(G),da=s(H);e(H);var L=n(H,2),M=s(L),ca=s(M,!0);e(M);var W=n(M,2),X=s(W);{var ba=x=>{var y=ja();k(()=>d(y,`${a(l).company.name??""} -`)),p(x,y)};w(X,x=>{var y;(y=a(l))!=null&&y.company.name&&x(ba)})}var ma=n(X);e(W),e(L);var Y=n(L,2),N=s(Y),O=s(N),ua=s(O,!0);e(O),e(N);var Z=n(N,2),fa=s(Z,!0);e(Z),e(Y),e(G),e(B),k(x=>{T(G,"href",`${ta}/jobs/${a(l).naddr}`),T(da,"src",a(l).company.image?a(l).company.image:"/nosjobs100x100.svg"),d(ca,a(l).job.title),d(ma,` ${a(l).job.location??""}`),sa(O,1,`badge badge--${a(l).job.contractType}`),d(ua,x),d(fa,a(l).job.publishedAt)},[()=>Ba(a(l).job.contractType,U)],$),p(pa,B)}),e(h),p(u,h)};w(_,u=>{a(f).length===0?u(j):u(m,!1)},i)}};w(r,_=>{a(C)?_(v):_(t,!1)},o)}};w(la,r=>{a(g)?r(va):r(_a,!1)})}e(J);var Q=n(J,2),R=s(Q),na=s(R);Ta(2),e(R),e(Q),e(I),e(F),e(D),e(E),k(()=>T(na,"href",`${ta??""}/jobs/post`)),p(oa,E),ka()}export{Za as component};
