import{f as b,a as d,s as n,e as ga,t as ha}from"../chunks/CByCw1PR.js";import{i as ja}from"../chunks/DQn_j9mP.js";import{p as xa,m as T,o as ya,a as ka,s as p,c as s,r as e,g as a,n as Ta,b as c,t as q,d as $}from"../chunks/B8AwEteH.js";import{i as w}from"../chunks/BxcQ58J5.js";import{e as aa,i as ea}from"../chunks/CJ-sz3_q.js";import{s as k,q as qa,n as wa,r as Aa}from"../chunks/CcgC1GVn.js";import{c as S,s as sa}from"../chunks/BiSFzz5Z.js";import{t as U,b as Pa}from"../chunks/_T73ulCF.js";import{p as Ea}from"../chunks/DJ7I8zaK.js";import{b as ta}from"../chunks/CpcUclER.js";import{p as Ja}from"../chunks/DMk5aY7N.js";import{f as Ba,g as Ca}from"../chunks/CTCcVgAX.js";var Ga=b('<li><input type="checkbox" class="post-type-job__input" required/> <label> </label></li>'),Ha=b('<p class="loading">Loading your jobs...</p>'),La=b('<p class="error"> </p>'),Ma=b("<p>No jobs found.</p>"),Na=b('<li><a class="jobs-item" title=""><div class="jobs-item__cell jobs-item__cell--img"><img class="jobs-item__img" alt=""/></div> <div class="jobs-item__cell jobs-item__cell--body"><h2 class="jobs-item__title"> </h2> <h3 class="jobs-item__company"><!> </h3></div> <div class="jobs-item__cell jobs-item__cell--meta"><div class="jobs-item__type"><div> </div></div> <div class="jobs-item__date"> </div></div></a></li>'),Oa=b('<ul class="jobs"></ul>'),Sa=b('<main class="main"><div class="explore"><div class="wrapper"><header class="explore__head"><h1 class="explore-title">Plataforma de vagas de trabalho<br/> <span class="explore-title__normal">para usuários Bitcoin</span></h1></header> <div class="explore__body"><div class="explore__cell explore__cell--main"><div class="typejob"><ul class="typejob__list"></ul></div> <!></div> <aside class="explore__cell explore__cell--aside"><div class="explore-post"><a class="explore-post__btn btn btn--primary btn--large" title="">Postar Vaga</a> <p class="explore-post__info">Anuncie Grátis</p></div></aside></div></div></div></main>');function Za(ra,V){xa(V,!1);const oa=[];Ea(V,"data",8);let f=T([]),A=T(S.map(o=>U(o.value))),g=T(!0),P=T("");const z=async()=>{const o={kinds:[30600],"#t":a(A)};try{await new Promise(v=>setTimeout(v,1e3));const r=await qa(o);if(r.length>0){c(g,!1);for(const v of r){const t=Ja(v);t.job.publishedAt=Ba(t.job.publishedAt),t.naddr=wa.naddrEncode({kind:t.kind,pubkey:t.pubkey,identifier:t.slug}),c(f,[...a(f),{...t}])}}else c(g,!1)}catch(r){c(P,"Error fetching jobs: "+r.message)}};function ia(){c(g,!0),c(f,[]),z()}ya(()=>{z()}),ja();var E=Sa(),D=s(E),F=s(D),I=p(s(F),2),J=s(I),B=s(J),K=s(B);aa(K,5,()=>S,ea,(o,r)=>{var v=Ga(),t=s(v);Aa(t);var _,i=p(t,2),h=s(i,!0);e(i),e(v),q(m=>{k(t,"id",a(r).value),_!==(_=m)&&(t.value=(t.__value=m)??""),t.disabled=a(g),k(i,"for",a(r).value),sa(i,1,`post-type-job__label badge badge--${a(r).value}`),n(h,a(r).title)},[()=>U(a(r).value)],$),Pa(oa,[],t,()=>(U(a(r).value),a(A)),m=>c(A,m)),ga("change",t,ia),d(o,v)}),e(K),e(B);var la=p(B,2);{var va=o=>{var r=Ha();d(o,r)},_a=(o,r)=>{{var v=_=>{var i=La(),h=s(i,!0);e(i),q(()=>n(h,a(P))),d(_,i)},t=(_,i)=>{{var h=u=>{var j=Ma();d(u,j)},m=u=>{var j=Oa();aa(j,5,()=>a(f),ea,(da,l)=>{var C=Na(),G=s(C),H=s(G),na=s(H);e(H);var L=p(H,2),M=s(L),ca=s(M,!0);e(M);var W=p(M,2),X=s(W);{var ba=x=>{var y=ha();q(()=>n(y,`${a(l).company.name??""} -`)),d(x,y)};w(X,x=>{var y;(y=a(l))!=null&&y.company.name&&x(ba)})}var ma=p(X);e(W),e(L);var Y=p(L,2),N=s(Y),O=s(N),ua=s(O,!0);e(O),e(N);var Z=p(N,2),fa=s(Z,!0);e(Z),e(Y),e(G),e(C),q(x=>{k(G,"href",`${ta}/jobs/${a(l).naddr}`),k(na,"src",a(l).company.image?a(l).company.image:"/nosjobs100x100.svg"),n(ca,a(l).job.title),n(ma,` ${a(l).job.location??""}`),sa(O,1,`badge badge--${a(l).job.contractType}`),n(ua,x),n(fa,a(l).job.publishedAt)},[()=>Ca(a(l).job.contractType,S)],$),d(da,C)}),e(j),d(u,j)};w(_,u=>{a(f).length===0?u(h):u(m,!1)},i)}};w(o,_=>{a(P)?_(v):_(t,!1)},r)}};w(la,o=>{a(g)?o(va):o(_a,!1)})}e(J);var Q=p(J,2),R=s(Q),pa=s(R);k(pa,"href",`${ta??""}/jobs/post`),Ta(2),e(R),e(Q),e(I),e(F),e(D),e(E),d(ra,E),ka()}export{Za as component};
