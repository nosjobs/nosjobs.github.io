import{f as M,e as X,a as q,r as ht,s as Z}from"../chunks/CByCw1PR.js";import{i as xt}from"../chunks/DQn_j9mP.js";import{p as wt,o as kt,t as N,c as s,g as t,a as jt,s as l,r as o,n as O,m as tt,i as $t,e as c,b as at}from"../chunks/B8AwEteH.js";import{e as et,i as ot}from"../chunks/CJ-sz3_q.js";import{n as Et,s as P,r as u,g as Dt,p as st}from"../chunks/CcgC1GVn.js";import{c as Lt,s as St}from"../chunks/BiSFzz5Z.js";import{a as _,b as Tt,t as Jt}from"../chunks/_T73ulCF.js";import{b as qt,c as Nt,p as Ot}from"../chunks/NmcOIudT.js";import{s as Pt,a as Mt}from"../chunks/BWLZYj1p.js";import{p as Rt}from"../chunks/DmJJmynD.js";import{g as lt}from"../chunks/DzuIH-Yi.js";import{p as Ut}from"../chunks/DMk5aY7N.js";import{n as It}from"../chunks/BjUY3Dog.js";const Vt=!1,oa=Object.freeze(Object.defineProperty({__proto__:null,prerender:Vt},Symbol.toStringTag,{value:"Module"}));var Yt=M("<option> </option>"),zt=M('<li><input type="radio" class="post-type-job__input" required/> <label> </label></li>'),At=M('<main class="main"><div class="wrapper"><div class="post"><header class="post__head"><h1 class="post__title">Editar Vaga</h1> <button class="btn">Deletar</button></header> <div class="post__body"><form method="POST" target="_self" class="post__cell post__cell--main"><h4 class="post__legend">Sobre a Empresa</h4> <ul class="post-form"><li><label class="post-form__label">Nome da empresa:</label> <input type="text" placeholder="Ex.: Blockstream" class="input input--full post-form__input"/></li> <li><label class="post-form__label">Site da empresa:</label> <input type="url" placeholder="https://example.com" class="input input--full post-form__input"/></li> <li><label class="post-form__label">Logo:</label> <input type="url" placeholder="https://example.com/image.jpg" class="input input--full post-form__input"/> <div class="post-form__help">Optional: URL to an image with the company logo em 200x200.</div></li></ul> <h4 class="post__legend">Sobre a Vaga</h4> <ul class="post-form"><li><label class="post-form__label">Título da vaga:<strong>*</strong></label> <input type="text" placeholder="Ex.: Desenvolvedor Nostr" class="input input--full post-form__input" required/></li>  <li><label class="post-form__label">Local:<strong>*</strong></label> <input type="text" name="entry.1344887347" placeholder="Remoto ou em local específico" class="input input--full post-form__input" required/></li> <li><label class="post-form__label">Categoria:<strong>*</strong></label> <select required class="input input--full post-form__input"><option disabled selected hidden>Escolha uma opção...</option><!></select></li> <li><label class="post-form__label">Tipo da vaga<strong>*</strong>:</label> <div class="post-form__input"><ul class="post-type-job"></ul></div></li> <li><label for="description" class="post-form__label">Descrição da vaga<strong>*</strong>:</label> <textarea id="description" placeholder="Descrição da vaga" class="textarea textarea--full" required></textarea></li> <li><label class="post-form__label">Link ou e-mail:</label> <input type="text" placeholder="Insira um e-mail ou link de aplicação" pattern="^((https?:\\/\\/)[^\\s]+|[^\\s@]+@[^\\s@]+\\.[^\\s@]+)$" title="Digite um e-mail válido, URI mailto, ou URL (ex: voce@exemplo.com, mailto:voce@exemplo.com, ou https://seuportfólio.com)" class="input input--full post-form__input"/></li></ul> <div class="post-action"><button type="submit" name="submit" class="post-action__btn btn btn--primary">Editar</button></div></form> <div class="post__cell post__cell--aside"></div></div></div></div></main>');function sa(rt,it){wt(it,!1);const[nt,pt]=Mt(),R=()=>Pt(Rt,"$page",nt),ct=[];let m;const ut=It.subscribe(a=>{m=a}),f=Et.decode(R().params.d);let d={},e=tt({}),n=tt({}),_t=!0;const dt=async()=>{const a={"#d":[f.data.identifier],kinds:[f.data.kind],authors:[f.data.pubkey]};try{const r=await Dt(a);r&&(_t=!1,d=Ut(r),at(e,d.job),at(n,d.company))}catch(r){""+r.message}};kt(()=>(dt(),()=>ut()));const mt=async()=>{if(!m)return alert("You need to be logged in.");if(!window.nostr)return alert("Nostr extension not found.");const a=m.pubkey,r={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["e",d.id]],content:"",pubkey:a},i=await window.nostr.signEvent(r);await Promise.any(st(i)),lt("/")},vt=async()=>{if(!m)return alert("You need to be logged in.");if(!window.nostr)return alert("Nostr extension not found.");const a=m.pubkey,r=Math.floor(Date.now()/1e3),i={content:JSON.stringify({job:t(e),company:t(n)}),created_at:r,pubkey:a,kind:30600,tags:[["d",d.slug],["title",t(e).title],["t","Job"],["t","Work"],["t","Employment"],["t",t(e).category],["t",Jt(t(e).contractType)],["expiration",d.expiration]]},p=await window.nostr.signEvent(i);await Promise.any(st(p)),lt(`/jobs/${R().params.d}`)};xt();var g=At(),U=s(g),I=s(U),y=s(I),bt=l(s(y),2);o(y);var V=l(y,2),h=s(V),x=l(s(h),2),w=s(x),Y=l(s(w),2);u(Y),o(w);var k=l(w,2),z=l(s(k),2);u(z),o(k);var A=l(k,2),B=l(s(A),2);u(B),O(2),o(A),o(x);var C=l(x,4),j=s(C),H=l(s(j),2);u(H),o(j);var $=l(j,2),W=l(s($),2);u(W),o($);var E=l($,2),D=l(s(E),2);N(()=>{t(e),$t(()=>{})});var L=s(D);L.value=L.__value="";var ft=l(L);et(ft,1,()=>Nt,ot,(a,r)=>{var i=Yt(),p={},v=s(i,!0);o(i),N(()=>{p!==(p=t(r).value)&&(i.value=(i.__value=t(r).value)??""),Z(v,t(r).title)}),q(a,i)}),o(D),o(E);var S=l(E,2),F=l(s(S),2),G=s(F);et(G,5,()=>Lt,ot,(a,r)=>{var i=zt(),p=s(i);u(p);var v,b=l(p,2),gt=s(b,!0);o(b),o(i),N(()=>{P(p,"id",t(r).value),v!==(v=t(r).value)&&(p.value=(p.__value=t(r).value)??""),P(b,"for",t(r).value),St(b,1,`post-type-job__label badge badge--${t(r).value}`),Z(gt,t(r).title)}),Tt(ct,[],p,()=>(t(r).value,t(e).contractType),yt=>c(e,t(e).contractType=yt)),q(a,i)}),o(G),o(F),o(S);var T=l(S,2),J=l(s(T),2);ht(J),P(J,"rows",8),o(T);var K=l(T,2),Q=l(s(K),2);u(Q),o(K),o(C),O(2),o(h),O(2),o(V),o(I),o(U),o(g),X("click",bt,mt),_(Y,()=>t(n).name,a=>c(n,t(n).name=a)),_(z,()=>t(n).website,a=>c(n,t(n).website=a)),_(B,()=>t(n).image,a=>c(n,t(n).image=a)),_(H,()=>t(e).title,a=>c(e,t(e).title=a)),_(W,()=>t(e).location,a=>c(e,t(e).location=a)),qt(D,()=>t(e).category,a=>c(e,t(e).category=a)),_(J,()=>t(e).description,a=>c(e,t(e).description=a)),_(Q,()=>t(e).applyLink,a=>c(e,t(e).applyLink=a)),X("submit",h,Ot(vt)),q(rt,g),jt(),pt()}export{sa as component,oa as universal};
